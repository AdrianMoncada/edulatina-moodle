{"version":3,"file":"settings.min.js","sources":["../src/settings.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\n// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n/**\n * Js file to handle settings.\n *\n * @package\n * @copyright   2021 WisdmLabs (https://wisdmlabs.com/) <support@wisdmlabs.com>\n * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @author      Wisdmlabs\n * @module      auth_edwiserbridge/settings\n */\n\"use strict\";\ndefine(\"auth_edwiserbridge/eb_settings\", [\n    \"jquery\",\n    \"core/ajax\",\n    \"core/url\",\n    \"core/str\",\n], function($, ajax, url, str) {\n    /**\n     * Load settings.\n     */\n    function load_settings() {\n        var translation = str.get_strings([\n            { key: \"dialog_title\", component: \"auth_edwiserbridge\" },\n            { key: \"site_url\", component: \"auth_edwiserbridge\" },\n            { key: \"token\", component: \"auth_edwiserbridge\" },\n            { key: \"copy\", component: \"auth_edwiserbridge\" },\n            { key: \"copied\", component: \"auth_edwiserbridge\" },\n            { key: \"link\", component: \"auth_edwiserbridge\" },\n            { key: \"create\", component: \"auth_edwiserbridge\" },\n            { key: \"eb_empty_name_err\", component: \"auth_edwiserbridge\" },\n            { key: \"eb_empty_user_err\", component: \"auth_edwiserbridge\" },\n            { key: \"eb_service_select_err\", component: \"auth_edwiserbridge\" },\n            { key: \"click_to_copy\", component: \"auth_edwiserbridge\" },\n            { key: \"pop_up_info\", component: \"auth_edwiserbridge\" },\n            { key: \"eb_settings_msg\", component: \"auth_edwiserbridge\" },\n            { key: \"click_here\", component: \"auth_edwiserbridge\" },\n        ]);\n\n        $(document).ready(function () {\n\n            $(document).on('click', '.eb_test_connection_log_open', function (event) {\n                $('.eb_test_connection_log_open').addClass('eb_test_connection_log_close');\n                $('.eb_test_connection_log_close').removeClass('eb_test_connection_log_open');\n                $(\".eb_test_connection_log\").slideDown();\n            });\n\n            $(document).on('click', '.eb_test_connection_log_close', function (event) {\n                $('.eb_test_connection_log_close').addClass('eb_test_connection_log_open');\n                $('.eb_test_connection_log_open').removeClass('eb_test_connection_log_close');\n                $(\".eb_test_connection_log\").slideUp();\n            });\n\n            /**\n             * Check if all the services are enabled.\n             * @param {string} service_id\n             * @param {boolean} messge_ele\n            */\n            function checkMissingServices(service_id, messge_ele = false) {\n                var promises = ajax.call([{\n                    methodname: \"auth_edwiserbridge_get_service_info\",\n                    args: { service_id: service_id },\n                }, ]);\n\n                promises[0]\n                    .done(function(response) {\n                        var message = \"\";\n                        $(\"body\").css(\"cursor\", \"default\");\n                        if (!response.status) {\n                            $(\".eb_summary_tab\").removeClass(\"summary_tab_sucess\");\n                            $(\".eb_summary_tab\").addClass(\"summary_tab_error\");\n                            if (!messge_ele) {\n                                $(\"#eb_common_err\").text(response.msg);\n                                $(\"#eb_common_err\").css(\"display\", \"block\");\n                            } else if (messge_ele) {\n                                var link =\n                                    window.location.origin +\n                                    window.location.pathname +\n                                    \"?tab=service\";\n                                var fix_link =\n                                    M.util.get_string(\n                                        \"more_details\",\n                                        \"auth_edwiserbridge\"\n                                    )\n                                    + \" <a href='\" +\n                                    link +\n                                    \"'  target='_blank'>\" + M.util.get_string(\"here\", \"auth_edwiserbridge\") + \"</a>.\";\n                                message =\n                                    \"<span class='summ_error'>\" +\n                                    response.msg +\n                                    fix_link +\n                                    \"</span>\";\n                                $(messge_ele).empty().append(message);\n                            }\n                        } else {\n                            if ($(\"#web_service_status span\").hasClass(\"summ_error\")) {\n                                $(\".eb_summary_tab\").removeClass(\"summary_tab_sucess\");\n                                $(\".eb_summary_tab\").addClass(\"summary_tab_error\");\n                            } else {\n                                $(\".eb_summary_tab\").addClass(\"summary_tab_sucess\");\n                                $(\".eb_summary_tab\").removeClass(\"summary_tab_error\");\n                            }\n                            if (messge_ele) {\n                                message =\n                                    '<span style=\"color: #7ad03a;\">' +\n                                        '<span class=\"summ_success\" style=\"font-weight:bolder;color:#7ad03a;font-size:22px;\">' +\n                                            '&#10003;' +\n                                        '</span>' +\n                                    '</span>';\n                                $(messge_ele).empty().append(message);\n                            }\n                        }\n                        return response;\n                    })\n                    .fail(function(response) {\n                        $(\"body\").css(\"cursor\", \"default\");\n                        return 0;\n                    });\n            }\n\n            /**\n             * Check the connection status with WordPress site\n             * @param {boolean|Element} messge_ele - Optional element to display messages\n             */\n            function checkConnectionstatus(messge_ele = false) {\n                var wp_url = $(\"#eb_wp_url\").text();\n                var wp_token = $(\"#eb_wp_token\").text();\n                var promises = ajax.call([\n                    { methodname: 'auth_edwiserbridge_test_connection', args: { wp_url: wp_url, wp_token: wp_token } }\n                ]);\n\n                promises[0]\n                    .done(function(response) {\n                        var message = \"\";\n                        $(\"body\").css(\"cursor\", \"default\");\n                        if (response.status == \"0\") {\n                            $(\".eb_summary_tab\").removeClass(\"summary_tab_sucess\");\n                            $(\".eb_summary_tab\").addClass(\"summary_tab_error\");\n                            if (!messge_ele) {\n                                $(\"#eb_common_err\").text(response.msg);\n                                $(\"#eb_common_err\").css(\"display\", \"block\");\n                            } else if (messge_ele) {\n                                var link = window.location.origin + window.location.pathname + \"?tab=connection\";\n                                var fix_link = \" Check more detials <a href='\" + link + \"'  target='_blank'>here</a>.\";\n                                message = \"<span class='summ_error'>\" + response.msg + fix_link + \"</span>\";\n                                $(messge_ele).empty().append(message);\n                            }\n                        } else {\n                            if ($(\"#test_connection_status span\").hasClass(\"summ_error\")) {\n                                $(\".eb_summary_tab\").removeClass(\"summary_tab_sucess\");\n                                $(\".eb_summary_tab\").addClass(\"summary_tab_error\");\n                            } else {\n                                $(\".eb_summary_tab\").addClass(\"summary_tab_sucess\");\n                                $(\".eb_summary_tab\").removeClass(\"summary_tab_error\");\n                            }\n                            if (messge_ele) {\n                                message = '<span style=\"color: #7ad03a;\">' +\n                                    '<span class=\"summ_success\" style=\"font-weight: bolder; color: #7ad03a; font-size: 22px;\">' +\n                                    '&#10003; ' + response.msg +\n                                    '</span></span>';\n                                $(messge_ele).empty().append(message);\n                            }\n                        }\n                        return response;\n                    })\n                    .fail(function(response) {\n                        $(\"body\").css(\"cursor\", \"default\");\n                        return 0;\n                    });\n            }\n\n            /**\n             * Check if the user is on edwiser bridge settings page.\n             */\n            if (window.location.href.indexOf(\"edwiserbridge.php\") > 1) {\n                let searchParams = new URLSearchParams(window.location.search);\n                if (searchParams.has(\"tab\") && \"service\" === searchParams.get(\"tab\")) {\n                    var service_id = $(\"#id_eb_sevice_list\").val();\n                    if (\"\" != service_id && \"create\" != service_id) {\n                        checkMissingServices(service_id);\n                    }\n                } else if (searchParams.has(\"tab\") && \"summary\" === searchParams.get(\"tab\")) {\n                    var service_id = $(\"#web_service_status\").data(\"serviceid\");\n                    checkMissingServices(service_id, \"#web_service_status\");\n                    setTimeout(function() {\n                        checkConnectionstatus(\"#test_connection_status\");\n                    }, 1000);\n                }\n            }\n\n            /*\n             * Functionality to show only tokens which are asscoiated with the service.\n             */\n            $(\"#id_eb_sevice_list\").change(function() {\n                var service_id = $(this).val();\n                $(\"#eb_common_success\").css(\"display\", \"none\");\n                $(\"#eb_common_err\").css(\"display\", \"none\");\n\n                $(\"#id_eb_token option:selected\").removeAttr(\"selected\");\n\n                $('#id_eb_token option[value=\"\"]').attr(\"selected\", true);\n\n                handlefieldsdisplay(\n                    \"create\",\n                    service_id,\n                    \".eb_service_field\",\n                    \"#id_eb_mform_create_service\"\n                );\n\n                if ($(this).val() != \"\") {\n                    $(\"#id_eb_token\").children(\"option\").hide();\n                    $(\"#id_eb_token\")\n                        .children(\"option[data-id^=\" + $(this).val() + \"]\")\n                        .show();\n\n                    if ($(this).val() != \"create\") {\n                        $(\"body\").css(\"cursor\", \"progress\");\n                        checkMissingServices(service_id);\n                    }\n                }\n            });\n\n            /*****************    Change Form Action URL   *******************/\n\n            $(\"#service_submit_continue\").click(function() {\n                $(this)\n                    .closest(\"form\")\n                    .attr(\n                        \"action\",\n                        M.cfg.wwwroot +\n                        \"/auth/edwiserbridge/edwiserbridge.php?tab=connection\"\n                    );\n            });\n\n            $(\"#conne_submit_continue\").click(function() {\n                $(this)\n                    .closest(\"form\")\n                    .attr(\n                        \"action\",\n                        M.cfg.wwwroot +\n                        \"/auth/edwiserbridge/edwiserbridge.php?tab=synchronization\"\n                    );\n            });\n\n            $(\"#sync_submit_continue\").click(function() {\n                $(this)\n                    .closest(\"form\")\n                    .attr(\n                        \"action\",\n                        M.cfg.wwwroot + \"/auth/edwiserbridge/edwiserbridge.php?tab=sso\"\n                    );\n            });\n            $(\"#sso_submit_continue\").click(function() {\n                $(this)\n                    .closest(\"form\")\n                    .attr(\n                        \"action\",\n                        M.cfg.wwwroot + \"/auth/edwiserbridge/edwiserbridge.php?tab=summary\"\n                    );\n            });\n\n            $(\"#settings_submit_continue\").click(function() {\n                $(this)\n                    .closest(\"form\")\n                    .attr(\n                        \"action\",\n                        M.cfg.wwwroot + \"/auth/edwiserbridge/edwiserbridge.php?tab=service\"\n                    );\n            });\n\n            /*********** END *********/\n            // Add Settings field.\n            if (!$(\".eb_settings_btn_cont\").length) {\n                $(\"#admin-eb_setup_wizard_field\").before(\n                    '<div class=\"eb_settings_btn_cont\" style=\"padding: 30px;\"> ' +\n                    M.util.get_string(\"eb_settings_msg\", \"auth_edwiserbridge\") +\n                    ' <a target=\"_blank\" style=\"border-radius:4px;margin-left:5px;padding:7px 18px;\" ' +\n                        'class=\"eb_settings_btn btn btn-primary\" href=\"' +\n                    M.cfg.wwwroot +\n                    '/auth/edwiserbridge/setup_wizard.php\"> ' +\n                    M.util.get_string(\"click_here\", \"auth_edwiserbridge\") +\n                    \" </a></div>\"\n                );\n            }\n            $(\"#admin-eb_setup_wizard_field\").css(\"display\", \"none\");\n\n            //Adds the link and create button on the set-up wizard\n            if ($(\"#admin-ebnewserviceuserselect\").length) {\n                if (!$(\"#eb_create_service\").length) {\n                    $(\"#admin-ebnewserviceuserselect\").after(\n                        '<div class=\"row eb_create_service_wrap\">' +\n                        '  <div class=\"offset-sm-3 col-sm-3\">' +\n                        '    <button type=\"submit\" id=\"eb_create_service\" class=\"btn\">' +\n                        M.util.get_string(\"link\", \"auth_edwiserbridge\") +\n                        \"</button>\" +\n                        \"  </div>\" +\n                        \"</div>\"\n                    );\n                }\n            }\n\n            //This adds the error succes messages divs on the set-up wizard.\n            if ($(\".eb_create_service_wrap\").length) {\n                $(\".eb_create_service_wrap\").before(\n                    '<div class=\"row eb_common_err_wrap\">' +\n                    '  <div class=\"offset-sm-3 col-sm-3\">' +\n                    '    <span id=\"eb_common_err\" class=\"btn\"></span>' +\n                    '    <span id=\"eb_common_success\" class=\"btn\"></span>' +\n                    \"  </div>\" +\n                    \"</div>\"\n                );\n            }\n\n            $(\"#id_eb_mform_create_service\").click(function(event) {\n                event.preventDefault();\n                var error = 0;\n                var web_service_name = $(\"#id_eb_service_inp\").val();\n                var user_id = $(\"#id_eb_auth_users_list\").val();\n                var service_id = $(\"#id_eb_sevice_list\").val();\n                var token = $(\"#id_eb_token\").val();\n\n                $(\".eb_settings_err\").remove();\n                $(\"#eb_common_success\").css(\"display\", \"none\");\n                $(\"#eb_common_err\").css(\"display\", \"none\");\n\n                if (user_id == \"\") {\n                    $(\"#eb_common_err\").text(\n                        M.util.get_string(\"eb_empty_user_err\", \"auth_edwiserbridge\")\n                    );\n                    $(\"#eb_common_err\").css(\"display\", \"block\");\n                    error = 1;\n                }\n\n                //If the select box has a value to create the web service the create web service else\n                if (service_id == \"create\") {\n                    if (web_service_name == \"\") {\n                        $(\"#eb_common_err\").css(\"display\", \"block\");\n                        $(\"#eb_common_err\").text(\n                            M.util.get_string(\"eb_empty_name_err\", \"auth_edwiserbridge\")\n                        );\n                        error = 1;\n                    }\n\n                    if (error) {\n                        return;\n                    }\n\n                    create_web_service(\n                        web_service_name,\n                        user_id,\n                        \"#id_eb_sevice_list\",\n                        \"#eb_common_err\",\n                        1\n                    );\n                } else {\n                    if ($(\"#id_eb_token\").val() == \"\") {\n                        $(\"#eb_common_err\").css(\"display\", \"block\");\n                        $(\"#eb_common_err\").text(\n                            M.util.get_string(\"token_empty\", \"auth_edwiserbridge\")\n                        );\n                        error = 1;\n                        return 0;\n                    }\n\n                    if (error) {\n                        return;\n                    }\n\n                    //If select has selected existing web service\n                    if (service_id != \"\") {\n                        link_web_service(\n                            service_id,\n                            token,\n                            \"#eb_common_err\",\n                            \"#eb_common_success\"\n                        );\n                    } else {\n                        //If the select box has been selected with the placeholder\n                        $(\"#eb_common_err\").text(\n                            M.util.get_string(\"eb_service_select_err\", \"auth_edwiserbridge\")\n                        );\n                    }\n                }\n            }); // event end\n\n            /************************ Web service creation click handlers *******************************/\n\n            /* -------------------------------------------\n             *  Copy to clipboard functionality handler\n             *---------------------------------------*/\n\n            /**\n             * This shows the copy test on the side\n             */\n            $(document).on(\"mouseenter\", \".eb_copy_text_wrap\", function() {\n                // hover starts code here\n                var parent = $(this).find(\".eb_copy_btn\");\n                parent.css(\"visibility\", \"visible\");\n            });\n\n            $(document).on(\"mouseleave\", \".eb_copy_text_wrap\", function() {\n                // hover ends code here\n                var parent = $(this).find(\".eb_copy_btn\");\n                parent.css(\"visibility\", \"hidden\");\n            });\n\n            /**\n             * Copy to clipboard functionality.\n             */\n            $(document).on(\"click\", \".eb_copy_text_wrap\", function(event) {\n                event.preventDefault();\n\n                var copyText = $(this).find(\".eb_copy_text\").html().trim();\n                navigator.clipboard.writeText(copyText).then(() => {\n                    toaster(M.util.get_string('copied', 'auth_edwiserbridge'), 400);\n                });\n            });\n\n            $(document).on(\"click\", \".eb_primary_copy_btn\", function(event) {\n                event.preventDefault();\n\n                var parent = $(this).parent().parent();\n\n                parent = parent.find(\".eb_copy\");\n\n                if (parent.attr(\"id\") == \"id_eb_token\") {\n                    var copyText = parent.val().trim();\n                } else {\n                    var copyText = parent.text().trim();\n                }\n\n                navigator.clipboard.writeText(copyText)\n                .then(() => {\n                    toaster(M.util.get_string('copied', 'auth_edwiserbridge'), 200);\n                });\n            });\n\n            /*************   Copy to clipboard functionality handler  **************/\n\n            /*----------------------------------------------------\n             * Below are alll js functions\n             *---------------------------------------------------*/\n\n            /**\n             * Toatser adde to show the successful copy message.\n             * @param {string} title\n             * @param {int} time\n             */\n            function toaster(title, time = 2000) {\n                const id = \"auth_edwiserbridge_copy\";\n                const toast = $(\n                    '<div id=\"' +\n                    id +\n                    '\">' +\n                    M.util.get_string(\"copied\", \"auth_edwiserbridge\") +\n                    \"<div>\"\n                ).get(0);\n                document.querySelector(\"body\").appendChild(toast);\n                toast.classList.add(\"show\");\n                setTimeout(function() {\n                    toast.classList.add(\"fade\");\n                    setTimeout(function() {\n                        toast.classList.remove(\"fade\");\n                        setTimeout(function() {\n                            toast.remove();\n                        }, time);\n                    }, time);\n                });\n            }\n\n            /**\n             * This function adds newly created web service in the drop down\n             * @param {string} element\n             * @param {string} name\n             * @param {string} id\n             */\n            function add_new_service_in_select(element, name, id) {\n                $(element + \"option:selected\").removeAttr(\"selected\");\n                $(element).append(\n                    '<option value=\"' + id + '\" selected> ' + name + \" </option>\"\n                );\n            }\n\n            /**\n             * This function adds newly created web service in the drop down\n             * @param {string} element\n             * @param {string} token\n             * @param {string} id\n             */\n            function add_new_token_in_select(element, token, id) {\n                $(element + \"option:selected\").removeAttr(\"selected\");\n                $(element).append(\n                    '<option data-id=\"' +\n                    id +\n                    '\" value=\"' +\n                    token +\n                    '\" selected> ' +\n                    token +\n                    \" </option>\"\n                );\n            }\n\n            /**\n             * This function handles the display of the service creation form depending on the drop down value.\n             * @param {string} condition\n             * @param {string} condition_var\n             * @param {string} element\n             * @param {string} btn\n             */\n            function handlefieldsdisplay(\n                condition,\n                condition_var,\n                element,\n                btn = \"\"\n            ) {\n                if (condition == condition_var) {\n                    $(btn).text(M.util.get_string(\"create\", \"auth_edwiserbridge\"));\n                    $(element).css(\"display\", \"flex\");\n                } else {\n                    $(btn).text(M.util.get_string(\"link\", \"auth_edwiserbridge\"));\n                    $(element).css(\"display\", \"none\");\n                }\n            }\n\n            /**\n             * This functions link the existing wervices\n             * @param {string} service_id\n             * @param {string} token\n             * @param {string} common_errr_fld\n             * @param {string} common_success_fld\n             */\n            function link_web_service(\n                service_id,\n                token,\n                common_errr_fld,\n                common_success_fld\n            ) {\n                $(\"body\").css(\"cursor\", \"progress\");\n                $(\"#eb_common_err\").css(\"display\", \"none\");\n\n                var promises = ajax.call([{\n                    methodname: \"auth_edwiserbridge_link_service\",\n                    args: { service_id: service_id, token: token },\n                }, ]);\n\n                promises[0]\n                    .done(function(response) {\n                        $(\"body\").css(\"cursor\", \"default\");\n                        if (response.status) {\n                            $(common_success_fld).text(response.msg);\n                            $(common_success_fld).css(\"display\", \"block\");\n                        } else {\n                            $(common_errr_fld).text(response.msg);\n                            $(common_success_fld).css(\"display\", \"block\");\n                        }\n\n                        return response;\n                    })\n                    .fail(function(response) {\n                        $(\"body\").css(\"cursor\", \"default\");\n                        return 0;\n                    }); //promise end\n            }\n\n            $(document).on(\"click\", \".eb_service_pop_up_close\", function() {\n                $(\".eb_service_pop_up\").hide();\n            });\n\n            /**\n             * This functions regiters new web service.\n             * @param {string} web_service_name\n             * @param {string} user_id\n             * @param {string} service_select_fld\n             * @param {string} common_errr_fld\n             * @param {boolean} is_mform\n             */\n            function create_web_service(\n                web_service_name,\n                user_id,\n                service_select_fld,\n                common_errr_fld,\n                is_mform\n            ) {\n                $(\"body\").css(\"cursor\", \"progress\");\n                $(\"#eb_common_err\").css(\"display\", \"none\");\n\n                $(\"#id_eb_token option:selected\").removeAttr(\"selected\");\n\n                $('#id_eb_token option[value=\"\"]').attr(\"selected\", true);\n\n                var promises = ajax.call([{\n                    methodname: \"auth_edwiserbridge_create_service\",\n                    args: { web_service_name: web_service_name, user_id: user_id },\n                }, ]);\n\n                var validation_error = 0;\n\n                if (!validation_error) {\n                    promises[0]\n                        .done(function(response) {\n                            $(\"body\").css(\"cursor\", \"default\");\n                            if (response.status) {\n                                //Dialog box content.\n                                var eb_dialog_content =\n                                    \"<div> \" +\n                                    M.util.get_string(\"pop_up_info\", \"auth_edwiserbridge\") +\n                                    \" </div>\" +\n                                    '<table class=\"eb_toke_detail_tbl\">' +\n                                    \"  <tr>\" +\n                                    '     <th width=\"17%\">' +\n                                    M.util.get_string(\"site_url\", \"auth_edwiserbridge\") +\n                                    \"</th>\" +\n                                    '     <td> : <span class=\"eb_copy_text\" title=\"' +\n                                    M.util.get_string(\"click_to_copy\", \"auth_edwiserbridge\") +\n                                    '\">' +\n                                    response.site_url +\n                                    \"</span>\" +\n                                    '        <span class=\"eb_copy_btn\">' +\n                                    M.util.get_string(\"copy\", \"auth_edwiserbridge\") +\n                                    \"</span></td>\" +\n                                    \"  </tr>\" +\n                                    \"  <tr>\" +\n                                    '     <th width=\"17%\">' +\n                                    M.util.get_string(\"token\", \"auth_edwiserbridge\") +\n                                    \"</th>\" +\n                                    '     <td> : <span class=\"eb_copy_text\" title=\"' +\n                                    M.util.get_string(\"click_to_copy\", \"auth_edwiserbridge\") +\n                                    '\">' +\n                                    response.token +\n                                    \"</span>\" +\n                                    '        <span class=\"eb_copy_btn\">' +\n                                    M.util.get_string(\"copy\", \"auth_edwiserbridge\") +\n                                    \"</span></td>\" +\n                                    \"  </tr>\" +\n                                    \"</table>\";\n\n                                $(\"body\").append(\n                                    '<div class=\"eb_service_pop_up_cont\">' +\n                                    '<div class=\"eb_service_pop_up\">' +\n                                    '<span class=\"helper\"></span>' +\n                                    \"<div>\" +\n                                    '<div class=\"eb_service_pop_up_close\">&times;</div>' +\n                                    \"<div>\" +\n                                    '<div class=\"eb_service_pop_up_title\"></div>' +\n                                    '<div class=\"eb_service_pop_up_content\"></div>' +\n                                    \"</div>\" +\n                                    \"</div>\" +\n                                    \"</div>\" +\n                                    \"</div>\"\n                                );\n\n                                $(\".eb_service_pop_up_content\").html(eb_dialog_content);\n                                $(\".eb_service_pop_up\").show();\n\n                                add_new_service_in_select(\n                                    service_select_fld,\n                                    web_service_name,\n                                    response.service_id\n                                );\n                                add_new_token_in_select(\n                                    \"#id_eb_token\",\n                                    response.token,\n                                    response.service_id\n                                );\n                            } else {\n                                $(\"#eb_common_err\").css(\"display\", \"block\");\n                                $(common_errr_fld).text(response.msg);\n                            }\n\n                            return response;\n                        })\n                        .fail(function(response) {\n                            $(\"body\").css(\"cursor\", \"default\");\n                            return 0;\n                        }); //promise end\n                }\n            }\n\n            /************************  Functions END  ****************************/\n\n\n\n\n\n            /******************    SETUP wizard   *****************/\n\n            var loader = '<div id=\"eb-lading-parent\" class=\"eb-lading-parent-wrap\">' +\n                '<div class=\"eb-loader-progsessing-anim\"></div>' +\n            '</div>';\n            $(\"body\").append(loader);\n\n\n            /**\n             * Change URL.\n             * @param {string} step\n             */\n            function change_url( step ) {\n                var url = new URL(document.location);\n                url.searchParams.set('current_step', step);\n                window.history.replaceState( null, null, url );\n            }\n\n            /**\n             * Handle step progress.\n             * @param {string} current_step\n             * @param {string} next_step\n             * @param {string} is_next_sub_step\n             * @param {string} parent_step\n             */\n            function handle_step_progress( current_step, next_step, is_next_sub_step, parent_step ) {\n                /**\n                 * 1. Mark current step as active and\n                 * 2. Mark previous step as completed.\n                 */\n                // Add completed class to the sidebar steps\n                var temp1 = $('.eb-setup-step-' + current_step).addClass('eb-setup-step-completed-wrap');\n                if( $('.eb-setup-step-' + current_step).hasClass('eb-setup-step-active-wrap') ) {\n                    $('.eb-setup-step-' + current_step).removeClass('eb-setup-step-active-wrap');\n                }\n\n                // Chnage step names class\n                var step_title = $('.eb-setup-step-' + current_step).children('.eb-setup-steps-title');\n                step_title.addClass('eb-setup-step-completed');\n                if(step_title.hasClass('eb-setup-step-active')){\n                    step_title.removeClass('eb-setup-step-active');\n                }\n\n                // Change icons class\n                var icon = $('.eb-setup-step-' + current_step).children('.eb_setup_sidebar_progress_icons');\n                icon.addClass('fa-circle-check');\n\n                if( icon.hasClass('fa-circle-chevron-right') ) {\n                    icon.removeClass('fa-circle-chevron-right');\n                }\n\n\n                var temp2 = $('.eb-setup-step-' + next_step).addClass('eb-setup-step-active-wrap');\n                var step_title1 = $('.eb-setup-step-' + next_step).children('.eb-setup-steps-title');\n                step_title1.addClass('eb-setup-step-active');\n\n                var icon = $('.eb-setup-step-' + next_step).children('.eb_setup_sidebar_progress_icons');\n                icon.addClass('fa-solid fa-circle-chevron-right');\n\n                if(icon.hasClass('eb-setup-step-circle')){\n                    icon.removeClass('eb-setup-step-circle');\n                }\n\n            }\n\n            // ajax xall to save data and get new tab at the same time.\n\n            // Clicking save continue\n            //\n            $(document).on('click', '.eb_setup_save_and_continue', function (event) {\n                // Create loader.\n                var current = $(this);\n                var current_step = $(this).data('step');\n                var next_step = $(this).data('next-step');\n                var is_next_sub_step = $(this).data('is-next-sub-step');\n\n\n\n                // get current step.\n                // get next step.\n                // get data which will be saved.\n                // Creating swicth case.\n                var data = { current_step : current_step, next_step : next_step, is_next_sub_step : is_next_sub_step };\n\n                switch ( current_step ) {\n                    case 'installtion_guide':\n                        $(\"#eb-lading-parent\").show();\n\n                        // Get required data and create array\n                        data = { current_step : current_step, next_step : next_step, is_next_sub_step : is_next_sub_step };\n\n                        break;\n\n                    case 'mdl_plugin_config':\n                        $(\"#eb-lading-parent\").show();\n\n                        data = { current_step : current_step, next_step : next_step, is_next_sub_step : is_next_sub_step };\n\n                        break;\n\n                    case 'web_service':\n                        var service_name = $('.eb_setup_web_service_list').val();\n\n                        // Course sync process.\n                        // Call course sync callback and after completing the process, call this callback.\n                        if( service_name == 'create' && '' == $('#eb_setup_web_service_name').val() ){\n                            event.preventDefault();\n                            $('#eb_setup_web_service_name').css('border-color', 'red');\n                            return;\n\n                        } else {\n                            $(\"#eb-lading-parent\").show();\n\n                            var existing_service = 1;\n\n                            if ( service_name == 'create' && service_name != '' ) {\n                                service_name = $('.eb_setup_web_service_name').val();\n                                existing_service = 0;\n                            }\n\n                            data = {\n                                current_step : current_step,\n                                next_step : next_step,\n                                is_next_sub_step : is_next_sub_step,\n                                service_name : service_name,\n                                existing_service : existing_service\n                            };\n                        }\n                        break;\n\n\n                    case 'wordpress_site_details':\n\n                        if( '' != site_name && ( '' == $('#eb_setup_site_name').val() || '' == $('#eb_setup_site_url').val() ) ){\n                            event.preventDefault();\n\n                            if ( '' == $('#eb_setup_site_name').val() ) {\n                                $('#eb_setup_site_name').css('border-color', 'red');\n                            } else {\n                                $('#eb_setup_site_name').css('border-color', '#E5E5E5');\n                            }\n\n                            if ( '' == $('#eb_setup_site_url').val() ) {\n                                $('#eb_setup_site_url').css('border-color', 'red');\n                            } else {\n                                $('#eb_setup_site_url').css('border-color', '#E5E5E5');\n                            }\n\n                            return;\n                        } else {\n                            $(\"#eb-lading-parent\").show();\n\n                            // Course sync process.\n                            // Call course sync callback and after completing the process, call this callback.\n\n                            var site_name = $('.eb_setup_wp_sites').val();\n                            var url       = '';\n\n                            if ( '' != site_name ) {\n                                site_name = $('.eb_setup_site_name').val();\n                                url       = $('.eb_setup_site_url').val();\n                            }\n\n                            data = {\n                                current_step : current_step,\n                                next_step : next_step,\n                                is_next_sub_step : is_next_sub_step,\n                                site_name : site_name,\n                                url : url\n                            };\n                        }\n\n                        break;\n\n\n                    case 'user_and_course_sync':\n                        $(\"#eb-lading-parent\").show();\n\n                        var user_enrollment   = $('#eb_setup_sync_user_enrollment').prop('checked') ? 1 : 0;\n                        var user_unenrollment = $('#eb_setup_sync_user_unenrollment').prop('checked') ? 1 : 0;\n                        var user_creation     = $('#eb_setup_sync_user_creation').prop('checked') ? 1 : 0;\n                        var user_deletion     = $('#eb_setup_sync_user_deletion').prop('checked') ? 1 : 0;\n                        var user_update       = $('#eb_setup_sync_user_update').prop('checked') ? 1 : 0;\n                        var course_creation   = $('#eb_setup_sync_course_creation').prop('checked') ? 1 : 0;\n                        var course_deletion   = $('#eb_setup_sync_course_deletion').prop('checked') ? 1 : 0;\n\n\n\n                        // If user checkbox is clicked start user sync otherwise just procedd to next screen.\n                        data = {\n                            current_step : current_step,\n                            next_step : next_step,\n                            is_next_sub_step : is_next_sub_step,\n                            user_enrollment: user_enrollment,\n                            user_unenrollment: user_unenrollment,\n                            user_creation: user_creation,\n                            user_deletion: user_deletion,\n                            user_update: user_update,\n                            course_creation: course_creation,\n                            course_deletion: course_deletion\n                        };\n\n                        break;\n\n\n                    default:\n                        $(\"#eb-lading-parent\").show();\n\n                        break;\n                }\n                data = JSON.stringify(data);\n\n\n                var promises = ajax.call([{\n                    methodname: \"auth_edwiserbridge_setup_wizard_save_and_continue\",\n                    args: { data : data },\n                }, ]);\n\n                promises[0].done(function(response) {\n                    $(\"#eb-lading-parent\").hide();\n\n                    change_url( next_step );\n\n\n                    // Dummy value.\n                    var parent_step = 1;\n\n                    handle_step_progress( current_step, next_step, is_next_sub_step, parent_step );\n\n                    $('.eb-setup-header-title').html(response.title);\n                    $('.eb-setup-content').html(response.html_data);\n\n\n                    if ( 'complete_details' == next_step ) {\n                        $('.eb-setup-content').append(\n                            '<div class=\"eb_setup_popup\"> ' +\n                            $('.eb_setup_wp_completion_success_popup').html() +\n                            ' </div>'\n                        );\n\n\n                        setTimeout(function(){\n                            $('.eb_setup_popup').remove();\n                        }, 2000);\n                    }\n\n\n                    return response;\n                }).fail(function(response) {\n                    $(\"#eb-lading-parent\").hide();\n                    $(\"body\").css(\"cursor\", \"default\");\n                    return 0;\n                }); //promise end\n\n\n            });\n\n\n\n            // Adding for refresh page condition\n            if ( $(\".eb_setup_wp_completion_success_popup\").length) {\n                $('.eb-setup-content').append(\n                    '<div class=\"eb_setup_popup\"> ' +\n                    $('.eb_setup_wp_completion_success_popup').html() +\n                    ' </div>');\n\n                setTimeout(function(){\n                    $('.eb_setup_popup').remove();\n                }, 2000);\n            }\n\n\n\n\n\n            /*\n            * Ajax call to enable settings.\n            */\n            $(document).on('click', '.eb_enable_plugin_settings', function (event) {\n                // start loader\n                $(\"#eb-lading-parent\").show();\n\n                var promises = ajax.call([{\n                    methodname: 'auth_edwiserbridge_enable_plugin_settings',\n                    args: {},\n                }, ]);\n\n                promises[0].done(function(response) {\n                    $(\"body\").css(\"cursor\", \"default\");\n                    $(\"#eb-lading-parent\").hide();\n\n                    // stop loader.\n                    // change icon colors\n                    $('.eb_enable_rest_protocol').css( 'color', '#1AB900' );\n                    $('.eb_enable_web_service').css( 'color', '#1AB900' );\n                    $('.eb_disable_pwd_policy').css( 'color', '#1AB900' );\n                    $('.eb_allow_extended_char').css( 'color', '#1AB900' );\n\n                    // show success message.\n                    $('.eb_setup_settings_success_msg').css( 'display', 'block' );\n\n\n                    // Hide current button and show save and continue button\n                    $('.eb_enable_plugin_settings').css( 'display', 'none' );\n                    $('.eb_enable_plugin_settings_label').css( 'display', 'none' );\n                    $('.eb_setup_save_and_continue').css( 'display', 'initial' );\n\n                    return response;\n                }).fail(function(response) {\n                    $(\"#eb-lading-parent\").hide();\n\n                    $(\"body\").css(\"cursor\", \"default\");\n                    return 0;\n                }); //promise end\n\n\n            });\n\n\n\n            var acc = document.getElementsByClassName(\"accordion\");\n            var i;\n\n            for (i = 0; i < acc.length; i++) {\n              acc[i].addEventListener(\"click\", function() {\n                /* Toggle between adding and removing the \"active\" class,\n                to highlight the button that controls the panel */\n                this.classList.toggle(\"active\");\n\n                /* Toggle between hiding and showing the active panel */\n                var panel = this.nextElementSibling;\n                if (panel.style.display === \"block\") {\n                  panel.style.display = \"none\";\n                } else {\n                  panel.style.display = \"block\";\n                }\n              });\n            }\n\n\n\n            // Handle Setup web service dropdown.\n            // $(\".eb_setup_web_service_list\").change(function() {\n            $(document).on('change', '.eb_setup_web_service_list', function (event) {\n\n                if('' != $(\".eb_setup_web_service_list\").val()){\n                    $('.eb_setup_web_service_btn').removeClass('disabled');\n                    $('.eb_setup_web_service_btn').removeAttr(\"disabled\");\n                } else {\n                    $('.eb_setup_web_service_btn').attr(\"disabled\", \"disabled\");\n                    $('.eb_setup_web_service_btn').addClass('disabled');\n                }\n\n\n                if('create' == $(\".eb_setup_web_service_list\").val()){\n                    $('.eb_setup_web_service_name_wrap').css('display', 'block');\n                } else {\n                    $('.eb_setup_web_service_name_wrap').css('display', 'none');\n                }\n            });\n\n\n            // Handle Wp site drop down\n            // $(\".eb_setup_wp_sites\").change(function() {\n            $(document).on('change', '.eb_setup_wp_sites', function (event) {\n\n                if('' != $(\".eb_setup_web_service_list\").val()){\n                    $('.eb_setup_wp_details_btn').removeClass('disabled');\n                    $('.eb_setup_wp_details_btn').removeAttr(\"disabled\");\n                } else {\n                    $('.eb_setup_wp_details_btn').attr(\"disabled\", \"disabled\");\n                    $('.eb_setup_wp_details_btn').addClass('disabled');\n                }\n\n                if('' == $(\".eb_setup_wp_sites\").val()){\n                    $('.eb_setup_wp_site_details_inp').addClass('eb_setup_wp_site_details_wrap');\n                } else {\n                    $('.eb_setup_wp_site_details_inp').removeClass('eb_setup_wp_site_details_wrap');\n\n                    var option = $(this).find(\":selected\");\n\n                    $('.eb_setup_site_name').val(option.data('name'));\n                    $('.eb_setup_site_url').val(option.data('url'));\n                }\n            });\n\n\n\n\n            $(document).on('click', '.eb_setup_test_connection_btn', function (event) {\n\n                var url = $('.eb_setup_site_url').val();\n                $(\"body\").css(\"cursor\", \"wait\");\n\n                $(\"#eb-lading-parent\").show();\n\n\n                var promises = ajax.call([{\n                    methodname: 'auth_edwiserbridge_setup_test_connection',\n                    args: { wp_url: url },\n                }, ]);\n\n                promises[0].done(function(response) {\n                    $(\"#eb-lading-parent\").hide();\n                    $(\"body\").css(\"cursor\", \"default\");\n\n\n                    $('.eb_setup_test_conn_resp_msg').css('display', 'block');\n\n                    // Parse response.\n                    if(response.status == 1){\n                        $('.eb_setup_test_connection_continue_btn').css('display', 'inline-block');\n                        $('.eb_setup_test_connection_btn').css('display', 'none');\n\n                        $('.eb_setup_test_conn_resp_msg').addClass('eb_setup_settings_success_msg');\n                        $('.eb_setup_test_conn_resp_msg').html('<i class=\"fa-solid fa-circle-check\"></i> ' + response.msg);\n                        $('.eb_setup_test_conn_resp_msg').removeClass('eb_setup_error_msg_box');\n                    }else{\n                        $('.eb_setup_test_conn_resp_msg').addClass('eb_setup_error_msg_box');\n                        $('.eb_setup_test_conn_resp_msg').html('<i class=\"fa-solid fa-circle-check\"></i> ' + response.msg);\n                        $('.eb_setup_test_conn_resp_msg').removeClass('eb_setup_settings_success_msg');\n                    }\n\n                    return response;\n                }).fail(function(response) {\n                    $(\"body\").css(\"cursor\", \"default\");\n                    $(\"#eb-lading-parent\").hide();\n\n                    return 0;\n                });\n\n\n            });\n\n\n           $(document).on('click', '#eb_setup_sync_all', function (event) {\n                if(this.checked){\n                    $('.eb_setup_sync_cb').prop('checked', true);\n                } else{\n                    $('.eb_setup_sync_cb').prop('checked', false);\n                }\n            });\n\n            $(document).on('click', '.eb_setup_sync_cb', function (event) {\n                if(this.checked){\n                    var all_checked = 1;\n                    $(\".eb_setup_sync_cb\").each(function() {\n\n                        if( ! this.checked ){\n                            all_checked = 0;\n                        }\n\n                    });\n\n                    if ( all_checked ) {\n                        $('#eb_setup_sync_all').prop('checked', true);\n                    }\n\n                } else{\n                    $('#eb_setup_sync_all').prop('checked', false);\n                }\n            });\n\n            /**\n             * Copy to clipboard functionality.\n             */\n            $(document).on(\"click\", \".eb_setup_copy\", function(event) {\n                event.preventDefault();\n\n                var copyText = $(this).data('copy');\n\n                navigator.clipboard.writeText(copyText)\n                .then(() => {\n                    var copy_success = '<p class=\"eb_setup_copy_success\"><i class=\"fa fa-check\" aria-hidden=\"true\"></i> ' +\n                     M.util.get_string(\"copied\", \"auth_edwiserbridge\") + '</p>';\n\n                    $(this).append(copy_success);\n\n                    // Remove success message after 2 seconds\n                    setTimeout(() => {\n                        $(\".eb_setup_copy_success\").fadeOut(300, function() {\n                            $(this).remove();\n                        });\n                    }, 2000);\n                });\n            });\n\n\n\n            // Code to create json file and download it.\n            $(document).on(\"click\", \".eb_setup_download_creds\", function(event) {\n\n                var obj = {\n                    url: $('.eb_setup_copy_url').html(),\n                    token: $('.eb_setup_copy_token').html(),\n                    lang_code: $('.eb_setup_copy_lang').html(),\n                };\n\n\n                $(\"<a />\", {\n                    \"download\": \"creds.json\",\n                    \"href\" : \"data:application/json,\" + encodeURIComponent(JSON.stringify( obj ) )\n                }).appendTo(\"body\").click(function() {\n                    $(this).remove();\n                })[0].click();\n            });\n\n        /**\n         * Close setup.\n         */\n        $('.eb-setup-close-icon').click(function(){\n            // Create loader.\n            $('.eb-setup-content').append('<div class=\"eb_setup_popup\"> ' + $('.eb_setup_popup_content_wrap').html() + ' </div>');\n\n        });\n\n\n        $(document).on('click', '.eb_setup_do_not_close', function (event) {\n            $('.eb_setup_popup').remove();\n        });\n\n\n        $(document).on('change', '.eb_setup_wp_sites', function (event) {\n            var option = $(this).find(\":selected\");\n\n            $('.eb_setup_site_name').val(option.data('name'));\n            $('.eb_setup_site_url').val(option.data('url'));\n\n        });\n\n\n\n\n\n        $(document).on('click', '.eb_redirect_to_wp', function (event) {\n\n            event.preventDefault();\n\n\n            // Sending one js request to unset the progress.\n            var current = $(this);\n            var current_step = $(this).data('step');\n            var next_step = $(this).data('next-step');\n            var is_next_sub_step = $(this).data('is-next-sub-step');\n\n\n            var data = { current_step : current_step, next_step : next_step, is_next_sub_step : is_next_sub_step };\n\n            data = JSON.stringify(data);\n\n\n            var promises = ajax.call([{\n                methodname: \"auth_edwiserbridge_setup_wizard_save_and_continue\",\n                args: { data : data },\n            }, ]);\n\n            promises[0].done(function(response) {\n\n                return response;\n            }).fail(function(response) {\n                return 0;\n            }); //promise end\n\n\n\n\n\n\n\n\n\n\n\n\n            // Create loader.\n            $('.eb-setup-content').append('<div class=\"eb_setup_popup\"> ' + $('.eb_setup_wp_redirection_popup').html() + ' </div>');\n\n            setTimeout( function(){\n                $('.eb_setup_popup').remove();\n                // window.location.replace($(this).attr('href'));\n                $('.eb_redirect_to_wp_btn').trigger('click');\n\n                var redirect = window.open($('.eb_redirect_to_wp').attr('href'), \"_blank\");\n                redirect.focus();\n            }, 2000 );\n\n        });\n\n\n\n        /***************************/\n\n\n        });\n    }\n    return { init: load_settings };\n});\n"],"names":["define","$","ajax","url","str","init","get_strings","key","component","document","ready","checkMissingServices","service_id","messge_ele","promises","call","methodname","args","done","response","message","css","status","hasClass","removeClass","addClass","empty","append","link","window","location","origin","pathname","fix_link","M","util","get_string","msg","text","fail","on","event","slideDown","slideUp","href","indexOf","searchParams","URLSearchParams","search","has","get","val","data","setTimeout","wp_url","wp_token","checkConnectionstatus","toaster","title","time","id","toast","querySelector","appendChild","classList","add","remove","change","this","removeAttr","attr","condition","condition_var","element","btn","handlefieldsdisplay","children","hide","show","click","closest","cfg","wwwroot","length","before","after","preventDefault","error","web_service_name","user_id","token","service_select_fld","common_errr_fld","is_mform","eb_dialog_content","site_url","html","name","add_new_token_in_select","create_web_service","common_success_fld","link_web_service","find","copyText","trim","navigator","clipboard","writeText","then","parent","current_step","next_step","is_next_sub_step","service_name","existing_service","site_name","user_enrollment","prop","user_unenrollment","user_creation","user_deletion","user_update","course_creation","course_deletion","JSON","stringify","step","URL","set","history","replaceState","change_url","parent_step","icon","step_title","handle_step_progress","html_data","i","acc","getElementsByClassName","addEventListener","toggle","panel","nextElementSibling","style","display","option","checked","all_checked","each","copy_success","fadeOut","obj","lang_code","encodeURIComponent","appendTo","trigger","open","focus"],"mappings":"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"}